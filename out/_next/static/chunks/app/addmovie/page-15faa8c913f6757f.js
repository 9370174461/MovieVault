(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[144],{6691:function(e,t,o){Promise.resolve().then(o.bind(o,4922))},4922:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return u}});var l=o(7437),r=o(2265),s=o(4086),n=o(7499),a=o(3085),i=o(4033),c=o(9584);function u(){let[e,t]=(0,r.useState)([]),[o,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),v=(0,i.useRouter)(),[b,h]=(0,r.useState)(null),y=(0,c.cF)(),g=(0,a.v0)(),j=(0,s.hJ)(n.RZ,"movies");(0,r.useEffect)(()=>{(async()=>{try{let e=(await (0,s.PL)(j)).docs.map(e=>({id:e.id,...e.data()}));t(e),console.log(e)}catch(e){console.error(e)}})()},[]);let x=async e=>{e.preventDefault();try{var t;console.log("File to upload:",b);let e=(0,c.iH)(y,"movies/".concat(b.name));await (0,c.KV)(e,b);let l=await (0,c.Jt)(e),r=await (0,s.ET)(j,{title:o,rating:d,overview:f,userId:null==g?void 0:null===(t=g.currentUser)||void 0===t?void 0:t.uid,fileURL:l});console.log("Document written with ID: ",r.id),alert("Data Add successfully"),u(""),m(""),p(""),h(null)}catch(e){console.error(e),v.push("/login")}};return(0,l.jsx)("div",{className:"container my-3 justify-content-center align-items-center mt-5 pt-5 .bg-secondary",style:{color:"white"},children:(0,l.jsx)("div",{className:"row justify-content-center mt-5",children:(0,l.jsx)("div",{className:"col-md-6",children:(0,l.jsxs)("form",{onSubmit:x,children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"title",className:"form-label",children:"Title"}),(0,l.jsx)("input",{type:"text",className:"form-control",onChange:e=>u(e.target.value),style:{backgroundColor:"#8d9199"},id:"title"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"rating",className:"form-label",children:"Rating"}),(0,l.jsx)("input",{type:"text",className:"form-control",onChange:e=>m(e.target.value),style:{backgroundColor:"#8d9199"},id:"rating"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"overview",className:"form-label",children:"Overview"}),(0,l.jsx)("textarea",{className:"form-control",id:"overview",onChange:e=>p(e.target.value),style:{backgroundColor:"#8d9199"},rows:"3"})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("label",{htmlFor:"file",className:"form-label",children:"Upload File"}),(0,l.jsx)("input",{type:"file",className:"form-control",style:{backgroundColor:"#8d9199"},id:"file",onChange:e=>{console.log("Selected file:",e.target.files[0]),h(e.target.files[0])}})]}),(0,l.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm",children:"Submit"}),(0,l.jsx)("button",{className:"btn btn-secondary btn-sm",onClick:()=>{(0,a.w7)(g).then(()=>{console.log("sucessfully logout")}).catch(e=>{})},children:"Logout"})]})})})})}},7499:function(e,t,o){"use strict";o.d(t,{I8:function(){return i},RZ:function(){return c}});var l=o(994),r=o(3085),s=o(4086),n=o(9584);let a=(0,l.ZF)({apiKey:"AIzaSyDfOFSro4cicscw5P8ebvdaGvuiiO_1j2M",authDomain:"top-movie-76e67.firebaseapp.com",projectId:"top-movie-76e67",storageBucket:"top-movie-76e67.appspot.com",messagingSenderId:"291233456576",appId:"1:291233456576:web:e6e7bada94404323ce6825"}),i=(0,r.v0)(a),c=(0,s.ad)(a);(0,n.cF)(a)},622:function(e,t,o){"use strict";var l=o(2265),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,o){var l,s={},c=null,u=null;for(l in void 0!==o&&(c=""+o),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,l)&&!i.hasOwnProperty(l)&&(s[l]=t[l]);if(e&&e.defaultProps)for(l in t=e.defaultProps)void 0===s[l]&&(s[l]=t[l]);return{$$typeof:r,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},7437:function(e,t,o){"use strict";e.exports=o(622)},4033:function(e,t,o){e.exports=o(5313)}},function(e){e.O(0,[358,220,89,371,971,938,744],function(){return e(e.s=6691)}),_N_E=e.O()}]);